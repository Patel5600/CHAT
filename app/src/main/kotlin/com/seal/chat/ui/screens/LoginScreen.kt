package com.seal.chat.ui.screens\n\nimport androidx.compose.foundation.layout.*\nimport androidx.compose.foundation.text.KeyboardOptions\nimport androidx.compose.material3.*\nimport androidx.compose.runtime.*\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.text.input.KeyboardType\nimport androidx.compose.ui.unit.dp\n\n@Composable\nfun LoginScreen(\n    onOtpSent: (email: String) -> Unit,\n    isLoading: Boolean = false,\n    error: String? = null\n) {\n    var email by remember { mutableStateOf(\"\") }\n    var isEmailValid by remember { mutableStateOf(false) }\n\n    LaunchedEffect(email) {\n        isEmailValid = email.matches(Regex(\"^[A-Za-z0-9+_.-]+@(.+)$\"))\n    }\n\n    Column(\n        modifier = Modifier\n            .fillMaxSize()\n            .padding(24.dp),\n        verticalArrangement = Arrangement.Center,\n        horizontalAlignment = Alignment.CenterHorizontally\n    ) {\n        // Header\n        Text(\n            text = \"SEAL Chat\",\n            style = MaterialTheme.typography.headlineLarge,\n            color = MaterialTheme.colorScheme.primary,\n            modifier = Modifier.padding(bottom = 8.dp)\n        )\n\n        Text(\n            text = \"Encrypted Messaging with Cryptographic Proof\",\n            style = MaterialTheme.typography.bodyMedium,\n            color = MaterialTheme.colorScheme.onSurfaceVariant,\n            modifier = Modifier.padding(bottom = 48.dp)\n        )\n\n        // Email Input\n        OutlinedTextField(\n            value = email,\n            onValueChange = { email = it },\n            label = { Text(\"Email Address\") },\n            modifier = Modifier\n                .fillMaxWidth()\n                .padding(bottom = 16.dp),\n            keyboardOptions = KeyboardOptions(\n                keyboardType = KeyboardType.Email\n            ),\n            enabled = !isLoading,\n            singleLine = true,\n            isError = email.isNotEmpty() && !isEmailValid\n        )\n\n        if (email.isNotEmpty() && !isEmailValid) {\n            Text(\n                text = \"Please enter a valid email address\",\n                color = MaterialTheme.colorScheme.error,\n                style = MaterialTheme.typography.labelSmall,\n                modifier = Modifier\n                    .align(Alignment.Start)\n                    .padding(bottom = 16.dp)\n            )\n        }\n\n        // Error Message\n        if (error != null) {\n            Surface(\n                modifier = Modifier\n                    .fillMaxWidth()\n                    .padding(bottom = 16.dp),\n                color = MaterialTheme.colorScheme.errorContainer,\n                shape = RoundedCornerShape(8.dp)\n            ) {\n                Text(\n                    text = error,\n                    color = MaterialTheme.colorScheme.error,\n                    style = MaterialTheme.typography.bodySmall,\n                    modifier = Modifier.padding(12.dp)\n                )\n            }\n        }\n\n        // Send OTP Button\n        Button(\n            onClick = { onOtpSent(email) },\n            modifier = Modifier\n                .fillMaxWidth()\n                .height(48.dp),\n            enabled = isEmailValid && !isLoading\n        ) {\n            if (isLoading) {\n                CircularProgressIndicator(\n                    modifier = Modifier.size(24.dp),\n                    color = MaterialTheme.colorScheme.onPrimary,\n                    strokeWidth = 2.dp\n                )\n            } else {\n                Text(\"Send OTP\")\n            }\n        }\n\n        // Info Text\n        Text(\n            text = \"We'll send a one-time password to your email\",\n            style = MaterialTheme.typography.labelSmall,\n            color = MaterialTheme.colorScheme.onSurfaceVariant,\n            modifier = Modifier.padding(top = 16.dp)\n        )\n    }\n}\n"
